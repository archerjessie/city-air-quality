(window["webpackJsonpweb-coding-exercise"]=window["webpackJsonpweb-coding-exercise"]||[]).push([[0],{17:function(e,t,a){e.exports=a(27)},22:function(e,t,a){},24:function(e,t,a){},25:function(e,t,a){},26:function(e,t,a){},27:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(12),l=a.n(r);a(22),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var i=a(14),o=a(29),s=(a(23),a(10)),u=a(6),f=a(13),m=a(16),d=a(15),b=function(e,t,a){return function(n){var r=c.a.createFactory(n);return function(n){Object(m.a)(l,n);var c=Object(d.a)(l);function l(n){var i;return Object(f.a)(this,l),(i=c.call(this,n)).set=function(t){return i.state[e]!==t&&(i.setState(Object(u.a)({},e,t)),!0)},i.render=function(){return r(Object(s.a)(Object(s.a)(Object(s.a)({},i.props),i.state),{},Object(u.a)({},t,i.set)))},i.state=Object(u.a)({},e,a),i}return l}(c.a.Component)}},h=a(28),v=a(30),p="https://api.waqi.info/",w="8d8e978e647d2b0a8c17c04ba331c0117cd06dc8";function x(e,t){try{fetch(e).then(h.a(0,"json")).then(v.a("data")).then(t)}catch(a){console.error(a)}}var E=o.a(b("search","setSearch",""))((function(e){var t=e.search,a=e.setSearch,n=e.onSubmit;return c.a.createElement("form",{className:"flex",onSubmit:function(e){e.preventDefault(),n(t)}},c.a.createElement("div",{className:"w5 flex items-center"},c.a.createElement("input",{type:"text",value:t,placeholder:"Melbourne",onChange:o.a(a,v.a("value"),v.a("target")),className:"br1 br--top br--left ba b--light-gray ph3 pv2 flex-grow-1 flex-shrink-1"}),c.a.createElement("button",{type:"submit",className:"br1 bl-0 br--top br--right b--light-gray white pa2 right-0 flex-grow-0 flex-shrink-0"},c.a.createElement("span",{role:"img","aria-label":"search"},"\ud83d\udd75\ufe0f"))))})),g=o.a(b("selected","setSelected",!1))((function(e){var t=e.uid,a=e.name,r=e.onClick,l=e.selected,i=e.setSelected;return Object(n.useEffect)((function(){r(t,l)}),[l]),c.a.createElement("button",{className:"pv2 ph3 flex-grow-0 flex-shrink-0 ba-0 tl w-100 border-box ".concat(l?"":"b--white"),onClick:function(e){i(!l)}},a)})),y=(a(24),o.a(b("searchData","setSearchData",null))((function(e){var t=e.onLocationSelected,a=e.onRefreshData,n=e.searchData,r=e.setSearchData;return c.a.createElement("div",{className:"city-search-sidebar"},c.a.createElement(E,{onSubmit:function(e){a(),function(e,t){x("".concat(p,"search/?keyword=").concat(e,"&token=").concat(w),t)}(e,r)}}),c.a.createElement("div",{className:"br1 br--bottom flex flex-column w5 bb bl br b--light-gray border-box"},n?c.a.createElement("div",{className:"pv2"},n.map((function(e){var a=e.uid,n=e.station.name;return c.a.createElement(g,{key:a,onClick:t,name:n,uid:a})}))):c.a.createElement("div",{className:"ph3 pv2 silver h4 flex items-center justify-center"},"Search for a city")))}))),N=(a(25),function(e){var t=e.feed;return c.a.createElement("div",{className:"location-panel ba b--gray br1 ml5 mb5 w-30"},c.a.createElement("div",{className:"pv2 ph3 flex justify-between"},t.city.name,c.a.createElement("div",null,"(",t.city.geo[0],","," ",t.city.geo[1],")")),c.a.createElement("div",{className:"h4 pv2 ph3 flex justify-center items-center f1"},t.aqi),c.a.createElement("div",{className:"f7 pv2"},t.attributions.map((function(e){var t=e.url,a=e.name;return c.a.createElement("div",{key:t,className:"flex justify-between pv1 ph3"},c.a.createElement("div",null,a),c.a.createElement("a",{className:"blue pl3",href:t},t))}))))}),k=(a(26),function(e){var t=e.feeds;return c.a.createElement("div",{className:"air-quality-dashboard flex flex-wrap justify-around"},t.map((function(e){return c.a.createElement(N,{key:e.idx,feed:e})})))}),j=o.a(b("feeds","setFeeds",[]))((function(e){var t=e.feeds,a=e.setFeeds,n=function(e){a([e].concat(Object(i.a)(t)))};return c.a.createElement("div",{className:"flex flex-column"},c.a.createElement("header",{className:"f2 pv3 ph4 bg-light-purple white flex-grow-0 flex-shrink-0"},"Air Quality Index"),c.a.createElement("div",{className:"cf pa5 flex-grow-1 flex-shrink-0 flex items-start"},c.a.createElement("div",{class:"fl w-28 tc"},c.a.createElement(y,{onLocationSelected:function(e,c){var r,l;console.log(e),c?(r=e,l=n,x("".concat(p,"feed/@").concat(r,"/?token=").concat(w),l)):function(e){var n=t.filter((function(t){return t.idx!==e}));a(n)}(e)},onRefreshData:function(){return a([])}})),c.a.createElement("div",{class:"fl w-72 tc"},c.a.createElement(k,{feeds:t}))))}));l.a.render(c.a.createElement(j,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[17,1,2]]]);
//# sourceMappingURL=main.39818939.chunk.js.map